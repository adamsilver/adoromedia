$.namespace("SF.BrandBoutique");
/**
 * Creates the scene7 look book
 * @constructor
 * @static
 * @name SF.BrandBoutique.LookBook
 */
SF.BrandBoutique.LookBook = new(function() {
	$(init);
	
	var node;
	var shopId = "SelfridgesRetailLimited";
	
	var myName; //This needs to match the ID and NAME in the flash initialization below.  This is generated randomly dependant on curent time in order to prevent multiple page instances from interfering with each other by having the same instance name declared
	var viewerType = "genericbrochure";  //this can be changed to basiczoom, genericspin, or genericbrochure but make sure that the parameter references are valid for any other viewer type utilized
	var imageName = "S7SampleCode/Brochure";  //Image, ImageSet, or comma seperated list of Company/Image to pass to the viewer
	var configName = "SelfridgesCustom2";  //Viewer configuration settings to use at viewer initialization
	var urlPassBack = "";  //This argument can be used to append a string to the url generated by the ecatalog on click of an image map.  For this to function you must be using the loadProduct (or a derivative function) for your HREF template in your image map
	var urlCallBack = ""; //This argument can be used to prepend a string to the url for an image map if it does not begin with http:// or https://  For this to function you must be using the loadProduct (or a derivative function) for your HREF template in your image map
	var windowName = ""; //This variable populates the title bar for a window generated through an image map in the ecatalog.  For this to function you must be using the loadProduct (or a derivative function) for your HREF template in your image map
	var windowFeatures = ""; //This variable determines the features and behavior for the new window generated through an image map in the ecatalog.  See documentation for window.open to determine how to formulate this string of arguments and what options are available.    For this to function you must be using the loadProduct (or a derivative function) for your HREF template in your image map
	
	function init() {
		node = document.getElementById("scene7LookBook");
		if(!node) return;
		
		myName=genInstance();
		imageName = getShopId() + "/" + getLookBookUrl();  
		
		var flashvars = {};

        var params = {     //Setup param tag elements for the flash object to embed in the page 
			allowScriptAccess:"Always",
			menu:"false",
			quality:"high",
			scale:"noscale",
			salign:"LT",
			bgcolor:"#FFFFFF",
			wmode:"opaque"
        };  
		
		var attributes = {  //Setup object tag elements for the flash object to embed in the page
            id: myName,
			name: myName
        };

        var viewerUrl = "";  //Build Viewer Path to Viewer swf
        viewerUrl += S7Config.isViewerRoot;
        viewerUrl += "flash/" + viewerType + ".swf?";
        viewerUrl += "&serverUrl=" + S7Config.isRoot;
        viewerUrl += "&contentRoot=" + S7Config.skinsRoot;
        viewerUrl += "&instanceName=" + myName;
        viewerUrl += "&image=" + imageName;
        viewerUrl += "&config=" + shopId + "/" + configName;
		swfobject.embedSWF(viewerUrl, "scene7LookBook", "692", "374", "7.0.14.0", "../resources/expressInstall/expressInstall.swf", flashvars, params, attributes);  //Add Viewer to page into the myContent div element, at 600 x 600 pixels, checking for flash version 6,0,65 before allowing initialization to proceed, otherwise show the default div content		
	};
	
	function getLookBookUrl() {
		return node.className;
	}; 
	
	function getShopId() {
		return shopId;
	};

	this.getMyName = getMyName;
	function getMyName(){
		return myName;
	}
});

