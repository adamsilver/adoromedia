
function otherFunction1() {
	//................
}

function myFunction(a,b) {
	if (a<b) otherFunction1();
	else otherFunction2();
}

function test_myFunction_aLessThanB_otherFunction1Called() {
	otherFunction1 = Mock.Function.checkCalled();
	otherFunction2 = Mock.Function.checkCalled();
	myFunction(1,2);
	assertTrue(otherFunction1.wasCalled);
	assertFalse(otherFunction2.wasCalled);
}


-------------------------------------------------------------------------------------------------------------------------------------------------------------------------


function() {
	a()
	b()
	c()
	d()
	............
}

test_function() {
	a = Mock.Function.empty;
	b = Mock.Function.empty;
}


----------------------------------------------------------------------------------------------------------------------


function(x,y) {
	if (a()) {
		if (x<y) doSomething();
	}
}


test_function() {
	doSomething = Mock.Function.checkCalled();
	a = Mock.Function.returnTrue;
}



---------------------------------------------------------------------------------------------------------------------


function o() {
	var val = 1;

	this.i = i;
	function i() {
		if (val === 2) doSomething();
	}
}


test_o() {
	var myO = new o();
	var f = Mock.Function.getAsDisconnected(myO.i);
	doSomething = Mock.Function.checkCalled();
	val = 2;
	f();
	assertTrue(doSomething.wasCalled);
}

-----------------------------------------------------------------------------------------------------------------------------------------------

function f(val) {
	switch (val) {
		.......
	}
}

function test_f() {
	Mock.Test.createParameterisedTest("testF", [1,2,3,4,5], f);
}






var Mock = (function() {
	
	function addToSetUp(f) {
		var oldSetUp = typeof setUp === "function" ? setUp : Mock.Function.empty;
		setUp = function() {
			f();
			oldSetUp();
		}
	}
	
	function createArrayFromArgumentsList(args) {
		var list = [];
		for (var i = 0; i < args.length; i++) {
			list.push(args[i]);
		}
		return list;
	}
		
	var functions = {
		empty: function() {},
		returnTrue: function() {return true;},
		returnFalse: function() {return false;}
	}
	
	return {
		Function: {
			empty: function() {
				return functions.empty;
			},
			returnTrue: function() {
				return functions.returnTrue;
			},
			returnFalse: function() {
				return functions.returnFalse;
			},
			returnValue: function(value) {
				return (function(val) {
					return function() {
						return val;
					}
				})(value);
			},
			getAsDisconnected: function(f) {
				eval("var x = " + f.toString());
				return x;
			},
			checkCalled: function() {
				return (function(args) {
					var func = function() {
						if (args && args[0] && args[0] === Mock.Function.emptyArgsList) {
							assertTrue("Checking for empty arguments list: ", arguments.length === 0);
						} else if (args && args.length && args.length > 0) {
							
						}
						func.wasCalled = true;
					}
					func.wasCalled = false;
					func.reset = function() {
						func.wasCalled = false;
					}
					addToSetUp(func.reset);
					return func;
				})(createArrayFromArgumentsList(arguments));
			},
			emptyArgsList: "<empty arguments list>"
		},
		Test: {
			createParameterisedTest: function(name, values, baseFunction) {
				for (var i = 0; i < values.length; i++) {
					window[name + i] = (function(val) {
						return function() {
							baseFunction(val);
						};
					})(values[i]);
				}
			}
		}
	}
	
})();
function f(val) {
	
}

	Mock.Test.createParameterisedTest("testF", [1,2,3,4,5], f);

testF1.toString()


