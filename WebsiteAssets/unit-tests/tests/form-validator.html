<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>JsUnit Test Suite</title>
        <script type="text/javascript" src="../jsunit/app/jsUnitCore.js"></script>
		
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
        <script type="text/javascript" src="../../javascript/Adoro/Adoro.FormValidator3.js"></script>
        <script type="text/javascript">
			
			/*
			 	this.addValidator = addValidator;
				this.removeValidator = removeValidator;
				this.addContextualGroup = addContextualGroup;
				this.removeContextualGroup = removeContextualGroup;
				this.addError = addError;
				this.removeError = removeError;
			*/
			
			/*
				// general
				
				function testFormNodeDoesntExist() {}
				
				function testSubmitFormWithErrors_CorrectNumberOfErrors() {}
				
				// ?
				function testSubmitFormWithNoErrors_FormSubmits() {}
				
				function testContextualSubmitWithErrors_CorrectNumberOfErrors() {}
				
				// ? should i test that public methods exist
				
				// addValidator - valid params
				
				// ? what if form node doesnt exist - do i bother allowing the running of addValidator?
				
				function testAddValidatorValid_ReturnsThis() {}
				
				function testAddValidatorValid_ValidatorExists() {}
				
				// addValidator - invalid params
				
				function testAddValidatorWithNoParams_DoesntAddValidator() {}
				
				function testAddValidatorWithNoRules_DoesntAddValidator() {}
				
				function testAddValidatorAndFieldDoesntExist_DoesntAddValidator() {}
				
				function testAddValidatorParam1NotFieldNode_DoesntAddValidator() {}
				
				function testAddValidatorParam2NotArrayOfObjects_DoesntAddValidator() {}
				
				function testAddValidatorParam3NotObject_DoesntAddOptions() {}
				
				// removeValidator - valid params / key ruleKeys
				
				function testRemoveValidatorValidWithKeyOnly_RemoveWholeValidator() {}
				
				function testRemoveValidatorValidWithKeyAndParticularRuleKey_RemoveParticularKey() {}
				
				function testRemoveValidatorValidWithKeyAndMoreThanOneKey_RemoveParticularKeys() {}
				
				function testRemoveValidatorValidWithKeyAndAllRuleKeys_RemoveWholeValidator() {}
				
				function testRemoveValidatorValidKeyExistsOneRuleKeyDoesOneDoesnt_OnlyRemoveParticularKey() {}
				
				// removeValidator - invalid params
				
				function testRemoveValidatorInvalidKeyDoesntExist_DontRemove() {}
				
				function testRemoveValidatorInvalidKeyExistsRuleKeyDoesnt_DontRemove() {}
				
			*/
			
			
			
            /*
            - test that public methods exist?
            - addValidator
                - test that a rule has a method and a message or not a message?
            - test when the form is submitted that it runs all the validators
                - test that the errors length i expect
                - fill in the fields correctly and test errors length is 0???
            - test a contextual submit
                - force a click event on particular submit that is contextual
                - check that the errors length is equal to the errors i expect when adding validators to that contextual group
            
            */
	    
            // how does this work when we need to do this when dom is ready?
            function testSubmitValidateWithErrors() {
				return;
                var form = document.getElementById("form1");
                var fv = new Adoro.FormValidator(form);
                fv.addValidator("username",[{
                    method: function() {
                        return false;
                    },
                    message: "Failed"
                }]);
                document.getElementById("primarySubmit").click();
                // i need to check the the amount of errors is 1
                //assertEquals(1, fv.getErrors().length);???
                
            }
        
            function testAdoroFormValidatorExists() {
                assertNotNull("Reference is not null", Adoro.FormValidator);  
            }
	    
            // what should i do with a class that has no arguments?
            function testNoArguments() {
                // when no arguments return null;
               // var fv = new Adoro.FormValidator();
                //assertUndefined("no arguments returns null", fv.addValidator);
            }
            
			
            function testAddValidatorWhenNoFormNode_dontAddValidator() {
				return;
                var fv = new Adoro.FormValidator();
                fv.addValidator("username", [{
                    method: function() {
                        return true
                    },
                    message: "helo there error"
                }]);
                //assertEquals(0, fv.getValidators().length);
            }
			
	    function testAddValidatorWhenNoRules_dontAddValidator() {
			return;
            var formNode = document.getElementById("form1");
            var fv = new Adoro.FormValidator(formNode);
            fv.addValidator("username");
            
            //assertEquals(0, fv.getValidators().length);
	    }
	    
	    function testAddValidatorWhenEmptyRules_dontAddValidator() {
			return;
            var formNode = document.getElementById("form1");
            var fv = new Adoro.FormValidator(formNode);
            fv.addValidator("username", []);
            //assertEquals(0, fv.getValidators().length);
	    }	

	    function testAddValidatorWhenRulesAreEmptyObjects_dontAddValidator() {
			return;
            var formNode = document.getElementById("form1");
            var fv = new Adoro.FormValidator(formNode);
            fv.addValidator("username", [{}]);
            //assertEquals(0, fv.getValidators().length);
	    }	
            
        </script>
    </head>
    
    <body>
        <h1>Form Validator</h1>
		
		<form id="form1">
			<input type="submit" id="primarySubmitDummy" name="primarySubmit" value="Primary submit" />
			
			<input type="text" name="postcode" />
			<input type="submit" id="postcodeSubmit" name="postcodeSubmit" value="Post code submit" />
		    <input name="username" />
            
            <input type="submit" id="primarySubmit" name="primarySubmit" value="Primary submit" />
		</form>
		
    </body>
</html>
