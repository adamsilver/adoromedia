<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<script type="text/javascript" src="jquery-1.3.2.js"></script>
		<script type="text/javascript" src="jquery.color.js"></script>
		<script type="text/javascript" src="Adoro.FormRules.js"></script>
		<script type="text/javascript" src="Adoro.FormValidator3.js"></script>
		<script type="text/javascript">
			
			var h1StartHtml;
			$(document).ready(function() {
				var formNode = $("form")[0];
				
				h1StartHtml = $("h1").html();
				
				var fv = new Adoro.FormValidator(formNode, {
					onValidateStart: function(){
						$("h1").html(h1StartHtml+"(validating)");
					},
					onValidateComplete: function() {
						window.setTimeout(function(){
							$("h1").html(h1StartHtml);
						}, 500);
						
					}
				});
				
				fv.addValidator("username",[{
						method: Adoro.FormRules.notEmpty,
						message: "The error message for username"
					},{
						method: Adoro.FormRules.isLength,
						message: "The username should have a length of 3",
						params: {length: 3}
					}], {
						onFieldValidate: fieldValidate,
						onFieldError: fieldError,
						onFieldSuccess: fieldSuccess,
						validateOnBlur: true
					}
				);

				fv.addValidator("password",[{
						method: Adoro.FormRules.notEmpty,
						message: "The error message for password"
					}],{
						onFieldValidate: fieldValidate,
						onFieldError: fieldError,
						onFieldSuccess: fieldSuccess,
						validateOnBlur: true
					}
				);				
				
			});
			
			function fieldValidate() {
				var fieldContainer = $(this).parents("div.field")[0];
				$(fieldContainer).css("background-color", "#ffffff");
				$(fieldContainer).animate({"backgroundColor": "#eee"});
				$(fieldContainer).animate({"backgroundColor": "#fff"});
				$("h1").html(h1StartHtml+"(validating)");
			}
			
			function fieldError() {
				$(this).css({"backgroundColor": "#9F1309"},{});
			}
			
			function fieldSuccess() {
				$(this).css({"backgroundColor": "#fff"},{});
			}			
			
		</script>
	</head>
	<body>
		<h1>Argos Form Validator</h1>
		<div id="container">
			
			<div id="errorContainer">
			</div>
			
			<form method="post" action="index.html">
				<div class="field">
					<input type="text" name="username" />
				</div>
				<div class="field">
					<input type="text" name="password" />
				</div>
				<input type="submit" name="submitForm" />
			</form>
			
		</div>
	</body>
</html>