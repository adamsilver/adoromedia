<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Sum test</title>
        <script type="text/javascript" src="../../../jsunit/app/jsUnitCore.js"></script>
		<script type="text/javascript" src="../../../jsunit/lib/jsUnitMockTimeout.js"></script>			
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.js"></script>
        
		<script>
			
			$().animate = function() {
				alert(this);
			}
			
			function animate() {
				window.setTimeout(function() {
					$("#testDiv").animate({
						"opacity": "0"
					}, {duration: 100, complete: function() {
						$("#testDiv").addClass("hide");
					}});
					
				}, 100);			
			}
			
			function myFunc() {
				$("div#testDiv").animate();
			}
			
		</script>
		
		<script type="text/javascript">
			<!--
			

			
			function testAnimate() {
				animate();
				Clock.tick(800);
				$("*").stop(false, true)
				var hasClass = $("#testDiv").hasClass("hide");
				
				assertTrue("", hasClass);
			}
			
			
			function testMockAnimate() {
				
				myFunc();
			}
			
			-->
		</script>
    </head>    
    <body>
		<div id="testDiv"></div>
    </body>
</html>
