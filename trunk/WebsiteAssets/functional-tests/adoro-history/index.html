<!DOCTYPE html>
<html>
	<head>
		<title>jQuery history manager</title>
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		<script type="text/javascript" src="../../javascript/Adoro/Adoro.History.js"></script>
		<script type="text/javascript">
			var myObject = new (function(){
				$(init);
				
				function init() {
										
					Adoro.History.listen("a", function(e, itemValue, itemName) {
						output1(itemValue);
					});
					
					Adoro.History.listen("b", function(e, itemValue, itemName) {
						output2(itemValue);
					});
					
					var a1 = $("a")[0];
					$(a1).bind("click", somethingClick)
					
					var a2 = $("a")[1];
					$(a2).bind("click", somethingClick2)
					
					var a3 = $("a")[2];
					$(a3).bind("click", somethingClick3)
					
					var a4 = $("a")[3];
					$(a4).bind("click", somethingClick4)
					
				}
				
				var urlBeforeUndo = null;
				
				function somethingClick() {
					var html = "val1";
					output1(html);
					Adoro.History.update("a", html);
					return false;
				}
				
				function somethingClick2() {
					var html = "val2";
					output1(html);
					Adoro.History.update("a", html);
					return false;
				}
				
				function somethingClick3() {
					var html = "val3";
					output2(html);
					Adoro.History.update("b", html);
					return false;
				}
				
				function somethingClick4() {
					var html = "val4";
					output2(html);
					Adoro.History.update("b", html);
					return false;
				}						
				
				function output1(html) {
					document.getElementById("output1").innerHTML = html;
				}
				function output2(html) {
					document.getElementById("output2").innerHTML = html;
				}				
				
			});
			
			
			
			
		</script>
	</head>
	<body>
		<div id="logger" style="overflow: scroll;height:400px;width: 400px; position:absolute;top: 0px; right: 0px;">
		</div>
	
		<a href="#">My link 1</a>
		<a href="#">My link 2</a>
		<br/><br/>
		<a href="#">My link 3</a>
		<a href="#">My link 4</a>
		<div id="output1">
			
		</div>
		
		<div id="output2">
			
		</div>
		
		<div id="ie"></div>
		
		<!--[if lt IE 8]>
		<iframe src="iframe.html" width="0" height="0" id="URLFrame" style="visibility:none;" />
		<![endif]-->		
	</body>
</html>